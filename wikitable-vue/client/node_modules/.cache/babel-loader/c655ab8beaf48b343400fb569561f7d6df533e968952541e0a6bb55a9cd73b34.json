{"ast":null,"code":"import { ref } from \"vue\";\nexport default {\n  __name: 'CommentCard',\n  props: {\n    comment: {\n      type: Object,\n      required: true\n    },\n    position: {\n      type: String,\n      default: \"left\",\n      validator: value => [\"left\", \"right\"].includes(value)\n    }\n  },\n  emits: [\"highlight\"],\n  setup(__props, _ref) {\n    let {\n      expose: __expose,\n      emit: __emit\n    } = _ref;\n    __expose();\n    const props = __props;\n    const emit = __emit;\n    const isHovered = ref(false);\n    const formatTime = time => {\n      if (!time) return \"\";\n      const date = new Date(time * 1000);\n      return date.toLocaleString();\n    };\n    const handleMouseEnter = () => {\n      isHovered.value = true;\n      if (props.comment.target_text) {\n        emit(\"highlight\", props.comment.target_text);\n      }\n    };\n    const handleMouseLeave = () => {\n      isHovered.value = false;\n    };\n    const __returned__ = {\n      props,\n      emit,\n      isHovered,\n      formatTime,\n      handleMouseEnter,\n      handleMouseLeave,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","props","__props","emit","__emit","isHovered","formatTime","time","date","Date","toLocaleString","handleMouseEnter","value","comment","target_text","handleMouseLeave"],"sources":["D:/ZhiHu/zhihu-bullet/wikitable-vue/client/src/components/CommentCard.vue"],"sourcesContent":["<template>\r\n\t<div\r\n\t\tclass=\"comment-card\"\r\n\t\t:class=\"position\"\r\n\t\t@mouseenter=\"handleMouseEnter\"\r\n\t\t@mouseleave=\"handleMouseLeave\">\r\n\t\t<div class=\"comment-header\">\r\n\t\t\t<img\r\n\t\t\t\t:src=\"comment.user_avatar || 'default-avatar.png'\"\r\n\t\t\t\t:alt=\"comment.user_nickname\"\r\n\t\t\t\tclass=\"avatar\" />\r\n\t\t\t<div class=\"user-info\">\r\n\t\t\t\t<a :href=\"comment.user_link\" target=\"_blank\" class=\"username\">{{\r\n\t\t\t\t\tcomment.user_nickname\r\n\t\t\t\t}}</a>\r\n\t\t\t\t<span class=\"comment-time\">{{ formatTime(comment.publish_time) }}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"comment-content\">{{ comment.content }}</div>\r\n\r\n\t\t<div class=\"comment-footer\">\r\n\t\t\t<span class=\"like-count\">点赞: {{ comment.like_count }}</span>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"comment-connector\" v-if=\"isHovered\"></div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref } from \"vue\";\r\n\r\n\tconst props = defineProps({\r\n\t\tcomment: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tposition: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"left\",\r\n\t\t\tvalidator: value => [\"left\", \"right\"].includes(value)\r\n\t\t}\r\n\t});\r\n\r\n\tconst emit = defineEmits([\"highlight\"]);\r\n\r\n\tconst isHovered = ref(false);\r\n\r\n\tconst formatTime = time => {\r\n\t\tif (!time) return \"\";\r\n\t\tconst date = new Date(time * 1000);\r\n\t\treturn date.toLocaleString();\r\n\t};\r\n\r\n\tconst handleMouseEnter = () => {\r\n\t\tisHovered.value = true;\r\n\t\tif (props.comment.target_text) {\r\n\t\t\temit(\"highlight\", props.comment.target_text);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleMouseLeave = () => {\r\n\t\tisHovered.value = false;\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.comment-card {\r\n\t\tpadding: 15px;\r\n\t\tborder-radius: 6px;\r\n\t\tbackground: #f9f9f9;\r\n\t\tborder: 1px solid #eee;\r\n\t\tmargin-bottom: 15px;\r\n\t\tposition: relative;\r\n\t\ttransition: all 0.2s ease;\r\n\t}\r\n\r\n\t.comment-card.left {\r\n\t\tmargin-right: 20px;\r\n\t}\r\n\r\n\t.comment-card.right {\r\n\t\tmargin-left: 20px;\r\n\t}\r\n\r\n\t.comment-card:hover {\r\n\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n\t\ttransform: translateY(-2px);\r\n\t}\r\n\r\n\t.comment-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 32px;\r\n\t\theight: 32px;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin-right: 10px;\r\n\t\tobject-fit: cover;\r\n\t}\r\n\r\n\t.user-info {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.username {\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #333;\r\n\t\ttext-decoration: none;\r\n\t}\r\n\r\n\t.username:hover {\r\n\t\tcolor: #0084ff;\r\n\t}\r\n\r\n\t.comment-time {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.comment-content {\r\n\t\tmargin-bottom: 10px;\r\n\t\tline-height: 1.6;\r\n\t\tcolor: #333;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.comment-footer {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.comment-connector {\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\twidth: 50px;\r\n\t\theight: 2px;\r\n\t\tbackground: #0084ff;\r\n\t}\r\n\r\n\t.comment-connector::after {\r\n\t\tcontent: \"\";\r\n\t\tposition: absolute;\r\n\t\twidth: 6px;\r\n\t\theight: 6px;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground: #0084ff;\r\n\t\ttop: -2px;\r\n\t}\r\n\r\n\t.left .comment-connector {\r\n\t\tright: -50px;\r\n\t}\r\n\r\n\t.left .comment-connector::after {\r\n\t\tright: 0;\r\n\t}\r\n\r\n\t.right .comment-connector {\r\n\t\tleft: -50px;\r\n\t}\r\n\r\n\t.right .comment-connector::after {\r\n\t\tleft: 0;\r\n\t}\r\n</style>\r\n"],"mappings":"AA8BC,SAASA,GAAG,QAAQ,KAAK;;;;;;;;;;;;;;;;;;;;;IAEzB,MAAMC,KAAK,GAAGC,OAUZ;IAEF,MAAMC,IAAI,GAAGC,MAA0B;IAEvC,MAAMC,SAAS,GAAGL,GAAG,CAAC,KAAK,CAAC;IAE5B,MAAMM,UAAU,GAAGC,IAAI,IAAI;MAC1B,IAAI,CAACA,IAAI,EAAE,OAAO,EAAE;MACpB,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,IAAI,GAAG,IAAI,CAAC;MAClC,OAAOC,IAAI,CAACE,cAAc,CAAC,CAAC;IAC7B,CAAC;IAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;MAC9BN,SAAS,CAACO,KAAK,GAAG,IAAI;MACtB,IAAIX,KAAK,CAACY,OAAO,CAACC,WAAW,EAAE;QAC9BX,IAAI,CAAC,WAAW,EAAEF,KAAK,CAACY,OAAO,CAACC,WAAW,CAAC;MAC7C;IACD,CAAC;IAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;MAC9BV,SAAS,CAACO,KAAK,GAAG,KAAK;IACxB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}