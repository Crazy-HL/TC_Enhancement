{"ast":null,"code":"export default {\n  name: \"App\",\n  data() {\n    return {\n      articles: [],\n      selectedArticle: null,\n      selectedArticleId: null,\n      comments: [],\n      loadingArticles: false,\n      loadingArticle: false,\n      loadingComments: false,\n      articleError: null,\n      commentsError: null,\n      defaultAvatar: \"https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=06d4cd63\"\n    };\n  },\n  mounted() {\n    this.getData();\n    this.loadArticles();\n  },\n  methods: {\n    getData() {\n      // 保留你原来的API调用\n      api.get(\"data\", {\n        papername: \"rmap1\"\n      }, data => {\n        console.log(\"Data API Response:\", data);\n      }, error => {\n        console.error(\"Data API Error:\", error);\n      });\n      api.get(\"user\", {\n        code: \"9090\"\n      }, data => {\n        console.log(\"User API Response:\", data);\n      }, error => {\n        console.error(\"User API Error:\", error);\n      });\n    },\n    loadArticles() {\n      this.loadingArticles = true;\n      api.get(\"api/article\", {\n        content_id: \"40685693\"\n      }, response => {\n        this.articles = [response]; // 假设我们只加载这一篇文章\n        this.loadingArticles = false;\n\n        // 默认选择第一篇文章\n        if (this.articles.length > 0) {\n          this.selectArticle(this.articles[0].content_id);\n        }\n      }, error => {\n        console.error(\"加载文章列表失败:\", error);\n        this.loadingArticles = false;\n      });\n    },\n    selectArticle(contentId) {\n      this.selectedArticleId = contentId;\n      this.loadArticleContent(contentId);\n      this.loadComments(contentId);\n    },\n    loadArticleContent(contentId) {\n      this.loadingArticle = true;\n      this.articleError = null;\n      api.get(\"api/article\", {\n        content_id: contentId\n      }, response => {\n        this.selectedArticle = response;\n        this.loadingArticle = false;\n      }, error => {\n        console.error(\"加载文章内容失败:\", error);\n        this.articleError = \"加载文章内容失败，请重试\";\n        this.loadingArticle = false;\n      });\n    },\n    loadComments(contentId) {\n      this.loadingComments = true;\n      this.commentsError = null;\n      api.get(\"api/comments\", {\n        content_id: contentId\n      }, response => {\n        this.comments = response;\n        this.loadingComments = false;\n      }, error => {\n        console.error(\"加载评论失败:\", error);\n        this.commentsError = \"加载评论失败\";\n        this.loadingComments = false;\n      });\n    },\n    formatTime(timestamp) {\n      if (!timestamp) return \"\";\n      const date = new Date(timestamp * 1000);\n      return date.toLocaleDateString() + \" \" + date.toLocaleTimeString().slice(0, 5);\n    }\n  }\n};","map":{"version":3,"names":["name","data","articles","selectedArticle","selectedArticleId","comments","loadingArticles","loadingArticle","loadingComments","articleError","commentsError","defaultAvatar","mounted","getData","loadArticles","methods","api","get","papername","console","log","error","code","content_id","response","length","selectArticle","contentId","loadArticleContent","loadComments","formatTime","timestamp","date","Date","toLocaleDateString","toLocaleTimeString","slice"],"sources":["D:\\ZhiHu\\zhihu-bullet\\wikitable-vue\\client\\src\\App.vue"],"sourcesContent":["<template>\n\t<div id=\"app\">\n\t\t<div class=\"div0\" id=\"div1\">\n\t\t\t<h2>文章列表</h2>\n\t\t\t<div v-if=\"loadingArticles\" class=\"loading\">加载中...</div>\n\t\t\t<ul v-else>\n\t\t\t\t<li\n\t\t\t\t\tv-for=\"article in articles\"\n\t\t\t\t\t:key=\"article.content_id\"\n\t\t\t\t\t@click=\"selectArticle(article.content_id)\"\n\t\t\t\t\t:class=\"{ active: selectedArticleId === article.content_id }\">\n\t\t\t\t\t{{ article.title }}\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div class=\"div0\" id=\"div2\">\n\t\t\t<div v-if=\"loadingArticle\" class=\"loading\">加载文章内容中...</div>\n\t\t\t<div v-else-if=\"articleError\" class=\"error\">{{ articleError }}</div>\n\t\t\t<div v-else-if=\"selectedArticle\" class=\"article-content\">\n\t\t\t\t<h1>{{ selectedArticle.title }}</h1>\n\t\t\t\t<div class=\"meta\">\n\t\t\t\t\t<span class=\"author\">作者: {{ selectedArticle.user_nickname }}</span>\n\t\t\t\t\t<span class=\"time\"\n\t\t\t\t\t\t>发布时间: {{ formatTime(selectedArticle.created_time) }}</span\n\t\t\t\t\t>\n\t\t\t\t\t<span class=\"votes\">{{ selectedArticle.voteup_count }} 赞</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"content\" v-html=\"selectedArticle.content_text\"></div>\n\t\t\t</div>\n\t\t\t<div v-else class=\"placeholder\">\n\t\t\t\t<p>请从左侧选择一篇文章</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"div0\" id=\"div3\">\n\t\t\t<h2>评论</h2>\n\t\t\t<div v-if=\"loadingComments\" class=\"loading\">加载评论中...</div>\n\t\t\t<div v-else-if=\"commentsError\" class=\"error\">{{ commentsError }}</div>\n\t\t\t<div v-else-if=\"comments.length === 0\" class=\"placeholder\">暂无评论</div>\n\t\t\t<div v-else class=\"comment-list\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"comment in comments\"\n\t\t\t\t\t:key=\"comment.comment_id\"\n\t\t\t\t\tclass=\"comment-card\">\n\t\t\t\t\t<div class=\"comment-header\">\n\t\t\t\t\t\t<img :src=\"comment.user_avatar || defaultAvatar\" class=\"avatar\" />\n\t\t\t\t\t\t<div class=\"user-info\">\n\t\t\t\t\t\t\t<span class=\"username\">{{ comment.user_nickname }}</span>\n\t\t\t\t\t\t\t<span class=\"time\">{{ formatTime(comment.publish_time) }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"comment-body\">{{ comment.content }}</div>\n\t\t\t\t\t<div class=\"comment-footer\">\n\t\t\t\t\t\t<span class=\"likes\">{{ comment.like_count }} 赞</span>\n\t\t\t\t\t\t<span v-if=\"comment.sub_comment_count > 0\" class=\"replies\">\n\t\t\t\t\t\t\t{{ comment.sub_comment_count }} 条回复\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tname: \"App\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tarticles: [],\n\t\t\t\tselectedArticle: null,\n\t\t\t\tselectedArticleId: null,\n\t\t\t\tcomments: [],\n\t\t\t\tloadingArticles: false,\n\t\t\t\tloadingArticle: false,\n\t\t\t\tloadingComments: false,\n\t\t\t\tarticleError: null,\n\t\t\t\tcommentsError: null,\n\t\t\t\tdefaultAvatar:\n\t\t\t\t\t\"https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=06d4cd63\"\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getData();\n\t\t\tthis.loadArticles();\n\t\t},\n\t\tmethods: {\n\t\t\tgetData() {\n\t\t\t\t// 保留你原来的API调用\n\t\t\t\tapi.get(\n\t\t\t\t\t\"data\",\n\t\t\t\t\t{ papername: \"rmap1\" },\n\t\t\t\t\tdata => {\n\t\t\t\t\t\tconsole.log(\"Data API Response:\", data);\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.error(\"Data API Error:\", error);\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tapi.get(\n\t\t\t\t\t\"user\",\n\t\t\t\t\t{ code: \"9090\" },\n\t\t\t\t\tdata => {\n\t\t\t\t\t\tconsole.log(\"User API Response:\", data);\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.error(\"User API Error:\", error);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tloadArticles() {\n\t\t\t\tthis.loadingArticles = true;\n\t\t\t\tapi.get(\n\t\t\t\t\t\"api/article\",\n\t\t\t\t\t{ content_id: \"40685693\" },\n\t\t\t\t\tresponse => {\n\t\t\t\t\t\tthis.articles = [response]; // 假设我们只加载这一篇文章\n\t\t\t\t\t\tthis.loadingArticles = false;\n\n\t\t\t\t\t\t// 默认选择第一篇文章\n\t\t\t\t\t\tif (this.articles.length > 0) {\n\t\t\t\t\t\t\tthis.selectArticle(this.articles[0].content_id);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.error(\"加载文章列表失败:\", error);\n\t\t\t\t\t\tthis.loadingArticles = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tselectArticle(contentId) {\n\t\t\t\tthis.selectedArticleId = contentId;\n\t\t\t\tthis.loadArticleContent(contentId);\n\t\t\t\tthis.loadComments(contentId);\n\t\t\t},\n\n\t\t\tloadArticleContent(contentId) {\n\t\t\t\tthis.loadingArticle = true;\n\t\t\t\tthis.articleError = null;\n\t\t\t\tapi.get(\n\t\t\t\t\t\"api/article\",\n\t\t\t\t\t{ content_id: contentId },\n\t\t\t\t\tresponse => {\n\t\t\t\t\t\tthis.selectedArticle = response;\n\t\t\t\t\t\tthis.loadingArticle = false;\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.error(\"加载文章内容失败:\", error);\n\t\t\t\t\t\tthis.articleError = \"加载文章内容失败，请重试\";\n\t\t\t\t\t\tthis.loadingArticle = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tloadComments(contentId) {\n\t\t\t\tthis.loadingComments = true;\n\t\t\t\tthis.commentsError = null;\n\t\t\t\tapi.get(\n\t\t\t\t\t\"api/comments\",\n\t\t\t\t\t{ content_id: contentId },\n\t\t\t\t\tresponse => {\n\t\t\t\t\t\tthis.comments = response;\n\t\t\t\t\t\tthis.loadingComments = false;\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.error(\"加载评论失败:\", error);\n\t\t\t\t\t\tthis.commentsError = \"加载评论失败\";\n\t\t\t\t\t\tthis.loadingComments = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tformatTime(timestamp) {\n\t\t\t\tif (!timestamp) return \"\";\n\t\t\t\tconst date = new Date(timestamp * 1000);\n\t\t\t\treturn (\n\t\t\t\t\tdate.toLocaleDateString() +\n\t\t\t\t\t\" \" +\n\t\t\t\t\tdate.toLocaleTimeString().slice(0, 5)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style>\n\t#app {\n\t\tfont-family: Avenir, Helvetica, Arial, sans-serif;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tcolor: #2c3e50;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t}\n\n\tbody {\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t\talign-items: flex-start;\n\t\theight: 100vh;\n\t\tmargin: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.div0 {\n\t\tposition: absolute;\n\t\theight: 100vh;\n\t\tpadding: 20px;\n\t\toverflow-y: auto;\n\t\tbox-sizing: border-box;\n\t}\n\n\t#div1 {\n\t\tleft: 0;\n\t\twidth: 30%;\n\t\tbackground: #f8f9fa;\n\t\tborder-right: 1px solid #e9ecef;\n\t}\n\n\t#div2 {\n\t\tleft: 30%;\n\t\twidth: 40%;\n\t\tbackground: #fff;\n\t\tborder-right: 1px solid #e9ecef;\n\t}\n\n\t#div3 {\n\t\tleft: 70%;\n\t\twidth: 30%;\n\t\tbackground: #f8f9fa;\n\t}\n\n\t.loading {\n\t\tcolor: #666;\n\t\ttext-align: center;\n\t\tpadding: 20px;\n\t}\n\n\t.error {\n\t\tcolor: #f56c6c;\n\t\ttext-align: center;\n\t\tpadding: 20px;\n\t}\n\n\t.placeholder {\n\t\tcolor: #999;\n\t\ttext-align: center;\n\t\tpadding: 40px 20px;\n\t}\n\n\t.article-content {\n\t\tline-height: 1.8;\n\t}\n\n\t.article-content h1 {\n\t\tfont-size: 24px;\n\t\tmargin-bottom: 15px;\n\t}\n\n\t.meta {\n\t\tcolor: #666;\n\t\tfont-size: 14px;\n\t\tmargin-bottom: 20px;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 15px;\n\t}\n\n\t.content {\n\t\tline-height: 1.8;\n\t}\n\n\t.comment-list {\n\t\tmargin-top: 15px;\n\t}\n\n\t.comment-card {\n\t\tbackground: white;\n\t\tpadding: 15px;\n\t\tmargin-bottom: 15px;\n\t\tborder-radius: 8px;\n\t\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n\t}\n\n\t.comment-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 10px;\n\t}\n\n\t.avatar {\n\t\twidth: 36px;\n\t\theight: 36px;\n\t\tborder-radius: 50%;\n\t\tmargin-right: 10px;\n\t\tobject-fit: cover;\n\t}\n\n\t.user-info {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.username {\n\t\tfont-weight: 600;\n\t\tfont-size: 15px;\n\t}\n\n\t.time {\n\t\tcolor: #999;\n\t\tfont-size: 12px;\n\t\tmargin-top: 2px;\n\t}\n\n\t.comment-body {\n\t\tmargin: 10px 0;\n\t\tline-height: 1.6;\n\t\tfont-size: 15px;\n\t}\n\n\t.comment-footer {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: #666;\n\t\tfont-size: 14px;\n\t\tgap: 15px;\n\t}\n\n\t.likes,\n\t.replies {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.replies {\n\t\tcolor: #1890ff;\n\t\tcursor: pointer;\n\t}\n\n\t.replies:hover {\n\t\ttext-decoration: underline;\n\t}\n\n\tul {\n\t\tlist-style: none;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t}\n\n\tli {\n\t\tpadding: 12px 15px;\n\t\tcursor: pointer;\n\t\tborder-bottom: 1px solid #eee;\n\t\ttransition: all 0.2s;\n\t}\n\n\tli:hover {\n\t\tbackground: #f0f0f0;\n\t}\n\n\tli.active {\n\t\tbackground: #e6f7ff;\n\t\tborder-left: 3px solid #1890ff;\n\t\tfont-weight: 500;\n\t}\n\n\t@media (max-width: 1200px) {\n\t\t#div1 {\n\t\t\twidth: 25%;\n\t\t}\n\t\t#div2 {\n\t\t\tleft: 25%;\n\t\t\twidth: 45%;\n\t\t}\n\t\t#div3 {\n\t\t\tleft: 70%;\n\t\t\twidth: 30%;\n\t\t}\n\t}\n\n\t@media (max-width: 768px) {\n\t\t#div1 {\n\t\t\twidth: 35%;\n\t\t}\n\t\t#div2 {\n\t\t\tleft: 35%;\n\t\t\twidth: 65%;\n\t\t}\n\t\t#div3 {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n</style>\n"],"mappings":"AAkEC,eAAe;EACdA,IAAI,EAAE,KAAK;EACXC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,IAAI;MACrBC,iBAAiB,EAAE,IAAI;MACvBC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,KAAK;MACtBC,cAAc,EAAE,KAAK;MACrBC,eAAe,EAAE,KAAK;MACtBC,YAAY,EAAE,IAAI;MAClBC,aAAa,EAAE,IAAI;MACnBC,aAAa,EACZ;IACF,CAAC;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACT,IAAI,CAACC,OAAO,CAAC,CAAC;IACd,IAAI,CAACC,YAAY,CAAC,CAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACRF,OAAOA,CAAA,EAAG;MACT;MACAG,GAAG,CAACC,GAAG,CACN,MAAM,EACN;QAAEC,SAAS,EAAE;MAAQ,CAAC,EACtBjB,IAAG,IAAK;QACPkB,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEnB,IAAI,CAAC;MACxC,CAAC,EACDoB,KAAI,IAAK;QACRF,OAAO,CAACE,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACxC,CACD,CAAC;MAEDL,GAAG,CAACC,GAAG,CACN,MAAM,EACN;QAAEK,IAAI,EAAE;MAAO,CAAC,EAChBrB,IAAG,IAAK;QACPkB,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEnB,IAAI,CAAC;MACxC,CAAC,EACDoB,KAAI,IAAK;QACRF,OAAO,CAACE,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACxC,CACD,CAAC;IACF,CAAC;IAEDP,YAAYA,CAAA,EAAG;MACd,IAAI,CAACR,eAAc,GAAI,IAAI;MAC3BU,GAAG,CAACC,GAAG,CACN,aAAa,EACb;QAAEM,UAAU,EAAE;MAAW,CAAC,EAC1BC,QAAO,IAAK;QACX,IAAI,CAACtB,QAAO,GAAI,CAACsB,QAAQ,CAAC,EAAE;QAC5B,IAAI,CAAClB,eAAc,GAAI,KAAK;;QAE5B;QACA,IAAI,IAAI,CAACJ,QAAQ,CAACuB,MAAK,GAAI,CAAC,EAAE;UAC7B,IAAI,CAACC,aAAa,CAAC,IAAI,CAACxB,QAAQ,CAAC,CAAC,CAAC,CAACqB,UAAU,CAAC;QAChD;MACD,CAAC,EACDF,KAAI,IAAK;QACRF,OAAO,CAACE,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;QACjC,IAAI,CAACf,eAAc,GAAI,KAAK;MAC7B,CACD,CAAC;IACF,CAAC;IAEDoB,aAAaA,CAACC,SAAS,EAAE;MACxB,IAAI,CAACvB,iBAAgB,GAAIuB,SAAS;MAClC,IAAI,CAACC,kBAAkB,CAACD,SAAS,CAAC;MAClC,IAAI,CAACE,YAAY,CAACF,SAAS,CAAC;IAC7B,CAAC;IAEDC,kBAAkBA,CAACD,SAAS,EAAE;MAC7B,IAAI,CAACpB,cAAa,GAAI,IAAI;MAC1B,IAAI,CAACE,YAAW,GAAI,IAAI;MACxBO,GAAG,CAACC,GAAG,CACN,aAAa,EACb;QAAEM,UAAU,EAAEI;MAAU,CAAC,EACzBH,QAAO,IAAK;QACX,IAAI,CAACrB,eAAc,GAAIqB,QAAQ;QAC/B,IAAI,CAACjB,cAAa,GAAI,KAAK;MAC5B,CAAC,EACDc,KAAI,IAAK;QACRF,OAAO,CAACE,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;QACjC,IAAI,CAACZ,YAAW,GAAI,cAAc;QAClC,IAAI,CAACF,cAAa,GAAI,KAAK;MAC5B,CACD,CAAC;IACF,CAAC;IAEDsB,YAAYA,CAACF,SAAS,EAAE;MACvB,IAAI,CAACnB,eAAc,GAAI,IAAI;MAC3B,IAAI,CAACE,aAAY,GAAI,IAAI;MACzBM,GAAG,CAACC,GAAG,CACN,cAAc,EACd;QAAEM,UAAU,EAAEI;MAAU,CAAC,EACzBH,QAAO,IAAK;QACX,IAAI,CAACnB,QAAO,GAAImB,QAAQ;QACxB,IAAI,CAAChB,eAAc,GAAI,KAAK;MAC7B,CAAC,EACDa,KAAI,IAAK;QACRF,OAAO,CAACE,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/B,IAAI,CAACX,aAAY,GAAI,QAAQ;QAC7B,IAAI,CAACF,eAAc,GAAI,KAAK;MAC7B,CACD,CAAC;IACF,CAAC;IAEDsB,UAAUA,CAACC,SAAS,EAAE;MACrB,IAAI,CAACA,SAAS,EAAE,OAAO,EAAE;MACzB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,SAAQ,GAAI,IAAI,CAAC;MACvC,OACCC,IAAI,CAACE,kBAAkB,CAAC,IACxB,GAAE,GACFF,IAAI,CAACG,kBAAkB,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC;IAEtC;EACD;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}