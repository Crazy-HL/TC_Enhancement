{"ast":null,"code":"export default {\n  name: \"App\",\n  data() {\n    return {\n      articles: [],\n      selectedArticle: null,\n      comments: [],\n      loadingArticles: false,\n      loadingComments: false,\n      defaultAvatar: \"https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=06d4cd63\"\n    };\n  },\n  mounted() {\n    this.getData();\n    this.loadArticles();\n  },\n  methods: {\n    getData() {\n      // 保持你原来的API调用方式\n      api.get(\"data\", {\n        papername: \"rmap1\"\n      }, data => {\n        console.log(\"Data:\", data);\n      });\n      api.get(\"user\", {\n        code: \"9090\"\n      }, data => {\n        console.log(\"User data:\", data);\n      });\n    },\n    loadArticles() {\n      this.loadingArticles = true;\n      api.get(\"article\", {\n        content_id: \"40685693\"\n      }, data => {\n        this.articles = [data]; // 模拟文章列表\n        this.loadingArticles = false;\n      }, error => {\n        console.error(\"加载文章失败:\", error);\n        this.loadingArticles = false;\n      });\n    },\n    selectArticle(contentId) {\n      this.selectedArticle = this.articles.find(a => a.content_id === contentId);\n      this.loadComments(contentId);\n    },\n    loadComments(contentId) {\n      this.loadingComments = true;\n      api.get(\"comments\", {\n        content_id: contentId\n      }, data => {\n        this.comments = data;\n        this.loadingComments = false;\n      }, error => {\n        console.error(\"加载评论失败:\", error);\n        this.loadingComments = false;\n      });\n    },\n    formatTime(timestamp) {\n      if (!timestamp) return \"\";\n      const date = new Date(timestamp * 1000);\n      return date.toLocaleDateString() + \" \" + date.toLocaleTimeString().slice(0, 5);\n    }\n  }\n};","map":{"version":3,"names":["name","data","articles","selectedArticle","comments","loadingArticles","loadingComments","defaultAvatar","mounted","getData","loadArticles","methods","api","get","papername","console","log","code","content_id","error","selectArticle","contentId","find","a","loadComments","formatTime","timestamp","date","Date","toLocaleDateString","toLocaleTimeString","slice"],"sources":["D:\\ZhiHu\\zhihu-bullet\\wikitable-vue\\client\\src\\App.vue"],"sourcesContent":["<template>\n\t<div id=\"app\">\n\t\t<div class=\"div0\" id=\"div1\">\n\t\t\t<h2>文章列表</h2>\n\t\t\t<div v-if=\"loadingArticles\">加载中...</div>\n\t\t\t<ul v-else>\n\t\t\t\t<li\n\t\t\t\t\tv-for=\"article in articles\"\n\t\t\t\t\t:key=\"article.content_id\"\n\t\t\t\t\t@click=\"selectArticle(article.content_id)\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\tactive:\n\t\t\t\t\t\t\tselectedArticle &&\n\t\t\t\t\t\t\tselectedArticle.content_id === article.content_id\n\t\t\t\t\t}\">\n\t\t\t\t\t{{ article.title }}\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div class=\"div0\" id=\"div2\">\n\t\t\t<div v-if=\"selectedArticle\" class=\"article-content\">\n\t\t\t\t<h1>{{ selectedArticle.title }}</h1>\n\t\t\t\t<div class=\"meta\">\n\t\t\t\t\t<span>作者: {{ selectedArticle.user_nickname }}</span>\n\t\t\t\t\t<span>发布时间: {{ formatTime(selectedArticle.created_time) }}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"content\" v-html=\"selectedArticle.content_text\"></div>\n\t\t\t</div>\n\t\t\t<div v-else class=\"placeholder\">\n\t\t\t\t<p>请从左侧选择一篇文章</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"div0\" id=\"div3\">\n\t\t\t<h2>评论</h2>\n\t\t\t<div v-if=\"loadingComments\">加载评论中...</div>\n\t\t\t<div v-else-if=\"comments.length === 0\" class=\"placeholder\">暂无评论</div>\n\t\t\t<div v-else class=\"comment-list\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"comment in comments\"\n\t\t\t\t\t:key=\"comment.comment_id\"\n\t\t\t\t\tclass=\"comment-card\">\n\t\t\t\t\t<div class=\"comment-header\">\n\t\t\t\t\t\t<img :src=\"comment.user_avatar || defaultAvatar\" class=\"avatar\" />\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span class=\"username\">{{ comment.user_nickname }}</span>\n\t\t\t\t\t\t\t<span class=\"time\">{{ formatTime(comment.publish_time) }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"comment-body\">{{ comment.content }}</div>\n\t\t\t\t\t<div class=\"comment-footer\">\n\t\t\t\t\t\t<span class=\"likes\">{{ comment.like_count }} 赞</span>\n\t\t\t\t\t\t<span v-if=\"comment.sub_comment_count > 0\" class=\"replies\">\n\t\t\t\t\t\t\t{{ comment.sub_comment_count }} 条回复\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tname: \"App\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tarticles: [],\n\t\t\t\tselectedArticle: null,\n\t\t\t\tcomments: [],\n\t\t\t\tloadingArticles: false,\n\t\t\t\tloadingComments: false,\n\t\t\t\tdefaultAvatar:\n\t\t\t\t\t\"https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=06d4cd63\"\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getData();\n\t\t\tthis.loadArticles();\n\t\t},\n\t\tmethods: {\n\t\t\tgetData() {\n\t\t\t\t// 保持你原来的API调用方式\n\t\t\t\tapi.get(\"data\", { papername: \"rmap1\" }, data => {\n\t\t\t\t\tconsole.log(\"Data:\", data);\n\t\t\t\t});\n\n\t\t\t\tapi.get(\"user\", { code: \"9090\" }, data => {\n\t\t\t\t\tconsole.log(\"User data:\", data);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tloadArticles() {\n\t\t\t\tthis.loadingArticles = true;\n\t\t\t\tapi.get(\n\t\t\t\t\t\"article\",\n\t\t\t\t\t{ content_id: \"40685693\" },\n\t\t\t\t\tdata => {\n\t\t\t\t\t\tthis.articles = [data]; // 模拟文章列表\n\t\t\t\t\t\tthis.loadingArticles = false;\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.error(\"加载文章失败:\", error);\n\t\t\t\t\t\tthis.loadingArticles = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tselectArticle(contentId) {\n\t\t\t\tthis.selectedArticle = this.articles.find(\n\t\t\t\t\ta => a.content_id === contentId\n\t\t\t\t);\n\t\t\t\tthis.loadComments(contentId);\n\t\t\t},\n\n\t\t\tloadComments(contentId) {\n\t\t\t\tthis.loadingComments = true;\n\t\t\t\tapi.get(\n\t\t\t\t\t\"comments\",\n\t\t\t\t\t{ content_id: contentId },\n\t\t\t\t\tdata => {\n\t\t\t\t\t\tthis.comments = data;\n\t\t\t\t\t\tthis.loadingComments = false;\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.error(\"加载评论失败:\", error);\n\t\t\t\t\t\tthis.loadingComments = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tformatTime(timestamp) {\n\t\t\t\tif (!timestamp) return \"\";\n\t\t\t\tconst date = new Date(timestamp * 1000);\n\t\t\t\treturn (\n\t\t\t\t\tdate.toLocaleDateString() +\n\t\t\t\t\t\" \" +\n\t\t\t\t\tdate.toLocaleTimeString().slice(0, 5)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style>\n\t#app {\n\t\tfont-family: Avenir, Helvetica, Arial, sans-serif;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tcolor: #2c3e50;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t}\n\n\tbody {\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t\talign-items: flex-start;\n\t\theight: 100vh;\n\t\tmargin: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.div0 {\n\t\tposition: absolute;\n\t\theight: 100vh;\n\t\tpadding: 20px;\n\t\toverflow-y: auto;\n\t\tbox-sizing: border-box;\n\t}\n\n\t#div1 {\n\t\tleft: 0;\n\t\twidth: 30%;\n\t\tbackground: #f8f9fa;\n\t\tborder-right: 1px solid #e9ecef;\n\t}\n\n\t#div2 {\n\t\tleft: 30%;\n\t\twidth: 40%;\n\t\tbackground: #fff;\n\t\tborder-right: 1px solid #e9ecef;\n\t}\n\n\t#div3 {\n\t\tleft: 70%;\n\t\twidth: 30%;\n\t\tbackground: #f8f9fa;\n\t}\n\n\t.article-content {\n\t\tline-height: 1.8;\n\t\tpadding: 0 10px;\n\t}\n\n\t.meta {\n\t\tcolor: #6c757d;\n\t\tfont-size: 14px;\n\t\tmargin: 15px 0;\n\t\tdisplay: flex;\n\t\tgap: 15px;\n\t}\n\n\t.placeholder {\n\t\tcolor: #6c757d;\n\t\ttext-align: center;\n\t\tmargin-top: 50px;\n\t}\n\n\t.comment-list {\n\t\tmargin-top: 15px;\n\t}\n\n\t.comment-card {\n\t\tbackground: white;\n\t\tpadding: 15px;\n\t\tmargin-bottom: 15px;\n\t\tborder-radius: 8px;\n\t\tbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n\t}\n\n\t.comment-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 10px;\n\t}\n\n\t.avatar {\n\t\twidth: 36px;\n\t\theight: 36px;\n\t\tborder-radius: 50%;\n\t\tmargin-right: 10px;\n\t\tobject-fit: cover;\n\t}\n\n\t.username {\n\t\tfont-weight: 600;\n\t\tfont-size: 15px;\n\t\tdisplay: block;\n\t}\n\n\t.time {\n\t\tcolor: #adb5bd;\n\t\tfont-size: 12px;\n\t}\n\n\t.comment-body {\n\t\tmargin: 10px 0;\n\t\tline-height: 1.5;\n\t\tfont-size: 15px;\n\t}\n\n\t.comment-footer {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: #6c757d;\n\t\tfont-size: 13px;\n\t\tgap: 15px;\n\t}\n\n\t.likes {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.replies {\n\t\tcolor: #0d6efd;\n\t\tcursor: pointer;\n\t}\n\n\t.replies:hover {\n\t\ttext-decoration: underline;\n\t}\n\n\tul {\n\t\tlist-style: none;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t}\n\n\tli {\n\t\tpadding: 12px 15px;\n\t\tcursor: pointer;\n\t\tborder-bottom: 1px solid #e9ecef;\n\t\ttransition: background 0.2s;\n\t}\n\n\tli:hover {\n\t\tbackground: #e9ecef;\n\t}\n\n\tli.active {\n\t\tbackground: #e9ecef;\n\t\tfont-weight: 500;\n\t\tborder-left: 3px solid #0d6efd;\n\t}\n\n\t@media (max-width: 1200px) {\n\t\t#div1 {\n\t\t\twidth: 25%;\n\t\t}\n\t\t#div2 {\n\t\t\tleft: 25%;\n\t\t\twidth: 45%;\n\t\t}\n\t\t#div3 {\n\t\t\tleft: 70%;\n\t\t\twidth: 30%;\n\t\t}\n\t}\n</style>\n"],"mappings":"AAiEC,eAAe;EACdA,IAAI,EAAE,KAAK;EACXC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,IAAI;MACrBC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,KAAK;MACtBC,eAAe,EAAE,KAAK;MACtBC,aAAa,EACZ;IACF,CAAC;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACT,IAAI,CAACC,OAAO,CAAC,CAAC;IACd,IAAI,CAACC,YAAY,CAAC,CAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACRF,OAAOA,CAAA,EAAG;MACT;MACAG,GAAG,CAACC,GAAG,CAAC,MAAM,EAAE;QAAEC,SAAS,EAAE;MAAQ,CAAC,EAAEb,IAAG,IAAK;QAC/Cc,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEf,IAAI,CAAC;MAC3B,CAAC,CAAC;MAEFW,GAAG,CAACC,GAAG,CAAC,MAAM,EAAE;QAAEI,IAAI,EAAE;MAAO,CAAC,EAAEhB,IAAG,IAAK;QACzCc,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEf,IAAI,CAAC;MAChC,CAAC,CAAC;IACH,CAAC;IAEDS,YAAYA,CAAA,EAAG;MACd,IAAI,CAACL,eAAc,GAAI,IAAI;MAC3BO,GAAG,CAACC,GAAG,CACN,SAAS,EACT;QAAEK,UAAU,EAAE;MAAW,CAAC,EAC1BjB,IAAG,IAAK;QACP,IAAI,CAACC,QAAO,GAAI,CAACD,IAAI,CAAC,EAAE;QACxB,IAAI,CAACI,eAAc,GAAI,KAAK;MAC7B,CAAC,EACDc,KAAI,IAAK;QACRJ,OAAO,CAACI,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/B,IAAI,CAACd,eAAc,GAAI,KAAK;MAC7B,CACD,CAAC;IACF,CAAC;IAEDe,aAAaA,CAACC,SAAS,EAAE;MACxB,IAAI,CAAClB,eAAc,GAAI,IAAI,CAACD,QAAQ,CAACoB,IAAI,CACxCC,CAAA,IAAKA,CAAC,CAACL,UAAS,KAAMG,SACvB,CAAC;MACD,IAAI,CAACG,YAAY,CAACH,SAAS,CAAC;IAC7B,CAAC;IAEDG,YAAYA,CAACH,SAAS,EAAE;MACvB,IAAI,CAACf,eAAc,GAAI,IAAI;MAC3BM,GAAG,CAACC,GAAG,CACN,UAAU,EACV;QAAEK,UAAU,EAAEG;MAAU,CAAC,EACzBpB,IAAG,IAAK;QACP,IAAI,CAACG,QAAO,GAAIH,IAAI;QACpB,IAAI,CAACK,eAAc,GAAI,KAAK;MAC7B,CAAC,EACDa,KAAI,IAAK;QACRJ,OAAO,CAACI,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/B,IAAI,CAACb,eAAc,GAAI,KAAK;MAC7B,CACD,CAAC;IACF,CAAC;IAEDmB,UAAUA,CAACC,SAAS,EAAE;MACrB,IAAI,CAACA,SAAS,EAAE,OAAO,EAAE;MACzB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,SAAQ,GAAI,IAAI,CAAC;MACvC,OACCC,IAAI,CAACE,kBAAkB,CAAC,IACxB,GAAE,GACFF,IAAI,CAACG,kBAAkB,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC;IAEtC;EACD;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}