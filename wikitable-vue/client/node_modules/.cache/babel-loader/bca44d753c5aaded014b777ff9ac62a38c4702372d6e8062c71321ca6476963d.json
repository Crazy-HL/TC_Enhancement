{"ast":null,"code":"export default {\n  name: \"App\",\n  data() {\n    return {\n      article: {},\n      comments: [],\n      loadingArticle: false,\n      loadingComments: false,\n      articleError: null,\n      commentsError: null,\n      defaultAvatar: \"https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=06d4cd63\",\n      fixedArticleId: \"40685693\" // 固定的文章ID\n    };\n  },\n  mounted() {\n    this.getData();\n    this.loadArticle();\n    this.loadComments();\n  },\n  methods: {\n    getData() {\n      // 保留你原来的API调用\n      api.get(\"data\", {\n        papername: \"rmap1\"\n      }, data => {\n        console.log(\"Data API Response:\", data);\n      }, error => {\n        console.error(\"Data API Error:\", error);\n      });\n      api.get(\"user\", {\n        code: \"9090\"\n      }, data => {\n        console.log(\"User API Response:\", data);\n      }, error => {\n        console.error(\"User API Error:\", error);\n      });\n    },\n    loadArticle() {\n      this.loadingArticle = true;\n      this.articleError = null;\n      api.get(\"api/article\", {\n        content_id: this.fixedArticleId\n      }, response => {\n        this.article = response;\n        this.loadingArticle = false;\n      }, error => {\n        console.error(\"加载文章内容失败:\", error);\n        this.articleError = \"加载文章内容失败，请重试\";\n        this.loadingArticle = false;\n      });\n    },\n    loadComments() {\n      this.loadingComments = true;\n      this.commentsError = null;\n      api.get(\"api/comments\", {\n        content_id: this.fixedArticleId\n      }, response => {\n        this.comments = response;\n        this.loadingComments = false;\n      }, error => {\n        console.error(\"加载评论失败:\", error);\n        this.commentsError = \"加载评论失败\";\n        this.loadingComments = false;\n      });\n    },\n    formatTime(timestamp) {\n      if (!timestamp) return \"\";\n      const date = new Date(timestamp * 1000);\n      return date.toLocaleDateString() + \" \" + date.toLocaleTimeString().slice(0, 5);\n    }\n  }\n};","map":{"version":3,"names":["name","data","article","comments","loadingArticle","loadingComments","articleError","commentsError","defaultAvatar","fixedArticleId","mounted","getData","loadArticle","loadComments","methods","api","get","papername","console","log","error","code","content_id","response","formatTime","timestamp","date","Date","toLocaleDateString","toLocaleTimeString","slice"],"sources":["D:\\ZhiHu\\zhihu-bullet\\wikitable-vue\\client\\src\\App.vue"],"sourcesContent":["<template>\n\t<div id=\"app\">\n\t\t<!-- 中间区域 - 显示固定文章内容 -->\n\t\t<div class=\"div0\" id=\"div2\">\n\t\t\t<div v-if=\"loadingArticle\" class=\"loading\">加载文章内容中...</div>\n\t\t\t<div v-else-if=\"articleError\" class=\"error\">{{ articleError }}</div>\n\t\t\t<div v-else class=\"article-content\">\n\t\t\t\t<h1>{{ article.title }}</h1>\n\t\t\t\t<div class=\"meta\">\n\t\t\t\t\t<span class=\"author\">作者: {{ article.user_nickname }}</span>\n\t\t\t\t\t<span class=\"time\"\n\t\t\t\t\t\t>发布时间: {{ formatTime(article.created_time) }}</span\n\t\t\t\t\t>\n\t\t\t\t\t<span class=\"votes\">{{ article.voteup_count }} 赞</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"content\" v-html=\"article.content_text\"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- 右侧区域 - 显示固定文章的评论 -->\n\t\t<div class=\"div0\" id=\"div3\">\n\t\t\t<h2>评论</h2>\n\t\t\t<div v-if=\"loadingComments\" class=\"loading\">加载评论中...</div>\n\t\t\t<div v-else-if=\"commentsError\" class=\"error\">{{ commentsError }}</div>\n\t\t\t<div v-else-if=\"comments.length === 0\" class=\"placeholder\">暂无评论</div>\n\t\t\t<div v-else class=\"comment-list\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"comment in comments\"\n\t\t\t\t\t:key=\"comment.comment_id\"\n\t\t\t\t\tclass=\"comment-card\">\n\t\t\t\t\t<div class=\"comment-header\">\n\t\t\t\t\t\t<img :src=\"comment.user_avatar || defaultAvatar\" class=\"avatar\" />\n\t\t\t\t\t\t<div class=\"user-info\">\n\t\t\t\t\t\t\t<span class=\"username\">{{ comment.user_nickname }}</span>\n\t\t\t\t\t\t\t<span class=\"time\">{{ formatTime(comment.publish_time) }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"comment-body\">{{ comment.content }}</div>\n\t\t\t\t\t<div class=\"comment-footer\">\n\t\t\t\t\t\t<span class=\"likes\">{{ comment.like_count }} 赞</span>\n\t\t\t\t\t\t<span v-if=\"comment.sub_comment_count > 0\" class=\"replies\">\n\t\t\t\t\t\t\t{{ comment.sub_comment_count }} 条回复\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tname: \"App\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tarticle: {},\n\t\t\t\tcomments: [],\n\t\t\t\tloadingArticle: false,\n\t\t\t\tloadingComments: false,\n\t\t\t\tarticleError: null,\n\t\t\t\tcommentsError: null,\n\t\t\t\tdefaultAvatar:\n\t\t\t\t\t\"https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=06d4cd63\",\n\t\t\t\tfixedArticleId: \"40685693\" // 固定的文章ID\n\t\t\t};\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getData();\n\t\t\tthis.loadArticle();\n\t\t\tthis.loadComments();\n\t\t},\n\t\tmethods: {\n\t\t\tgetData() {\n\t\t\t\t// 保留你原来的API调用\n\t\t\t\tapi.get(\n\t\t\t\t\t\"data\",\n\t\t\t\t\t{ papername: \"rmap1\" },\n\t\t\t\t\tdata => {\n\t\t\t\t\t\tconsole.log(\"Data API Response:\", data);\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.error(\"Data API Error:\", error);\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tapi.get(\n\t\t\t\t\t\"user\",\n\t\t\t\t\t{ code: \"9090\" },\n\t\t\t\t\tdata => {\n\t\t\t\t\t\tconsole.log(\"User API Response:\", data);\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.error(\"User API Error:\", error);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tloadArticle() {\n\t\t\t\tthis.loadingArticle = true;\n\t\t\t\tthis.articleError = null;\n\t\t\t\tapi.get(\n\t\t\t\t\t\"api/article\",\n\t\t\t\t\t{ content_id: this.fixedArticleId },\n\t\t\t\t\tresponse => {\n\t\t\t\t\t\tthis.article = response;\n\t\t\t\t\t\tthis.loadingArticle = false;\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.error(\"加载文章内容失败:\", error);\n\t\t\t\t\t\tthis.articleError = \"加载文章内容失败，请重试\";\n\t\t\t\t\t\tthis.loadingArticle = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tloadComments() {\n\t\t\t\tthis.loadingComments = true;\n\t\t\t\tthis.commentsError = null;\n\t\t\t\tapi.get(\n\t\t\t\t\t\"api/comments\",\n\t\t\t\t\t{ content_id: this.fixedArticleId },\n\t\t\t\t\tresponse => {\n\t\t\t\t\t\tthis.comments = response;\n\t\t\t\t\t\tthis.loadingComments = false;\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.error(\"加载评论失败:\", error);\n\t\t\t\t\t\tthis.commentsError = \"加载评论失败\";\n\t\t\t\t\t\tthis.loadingComments = false;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tformatTime(timestamp) {\n\t\t\t\tif (!timestamp) return \"\";\n\t\t\t\tconst date = new Date(timestamp * 1000);\n\t\t\t\treturn (\n\t\t\t\t\tdate.toLocaleDateString() +\n\t\t\t\t\t\" \" +\n\t\t\t\t\tdate.toLocaleTimeString().slice(0, 5)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n</script>\n\n<style>\n\t#app {\n\t\tfont-family: Avenir, Helvetica, Arial, sans-serif;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tcolor: #2c3e50;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t}\n\n\tbody {\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t\talign-items: flex-start;\n\t\theight: 100vh;\n\t\tmargin: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.div0 {\n\t\tposition: absolute;\n\t\theight: 100vh;\n\t\tpadding: 20px;\n\t\toverflow-y: auto;\n\t\tbox-sizing: border-box;\n\t}\n\n\t#div2 {\n\t\tleft: 0;\n\t\twidth: 60%;\n\t\tbackground: #fff;\n\t\tborder-right: 1px solid #e9ecef;\n\t}\n\n\t#div3 {\n\t\tleft: 60%;\n\t\twidth: 40%;\n\t\tbackground: #f8f9fa;\n\t}\n\n\t.loading {\n\t\tcolor: #666;\n\t\ttext-align: center;\n\t\tpadding: 20px;\n\t}\n\n\t.error {\n\t\tcolor: #f56c6c;\n\t\ttext-align: center;\n\t\tpadding: 20px;\n\t}\n\n\t.placeholder {\n\t\tcolor: #999;\n\t\ttext-align: center;\n\t\tpadding: 40px 20px;\n\t}\n\n\t.article-content {\n\t\tline-height: 1.8;\n\t}\n\n\t.article-content h1 {\n\t\tfont-size: 24px;\n\t\tmargin-bottom: 15px;\n\t}\n\n\t.meta {\n\t\tcolor: #666;\n\t\tfont-size: 14px;\n\t\tmargin-bottom: 20px;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 15px;\n\t}\n\n\t.content {\n\t\tline-height: 1.8;\n\t}\n\n\t.comment-list {\n\t\tmargin-top: 15px;\n\t}\n\n\t.comment-card {\n\t\tbackground: white;\n\t\tpadding: 15px;\n\t\tmargin-bottom: 15px;\n\t\tborder-radius: 8px;\n\t\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n\t}\n\n\t.comment-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 10px;\n\t}\n\n\t.avatar {\n\t\twidth: 36px;\n\t\theight: 36px;\n\t\tborder-radius: 50%;\n\t\tmargin-right: 10px;\n\t\tobject-fit: cover;\n\t}\n\n\t.user-info {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.username {\n\t\tfont-weight: 600;\n\t\tfont-size: 15px;\n\t}\n\n\t.time {\n\t\tcolor: #999;\n\t\tfont-size: 12px;\n\t\tmargin-top: 2px;\n\t}\n\n\t.comment-body {\n\t\tmargin: 10px 0;\n\t\tline-height: 1.6;\n\t\tfont-size: 15px;\n\t}\n\n\t.comment-footer {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: #666;\n\t\tfont-size: 14px;\n\t\tgap: 15px;\n\t}\n\n\t.likes,\n\t.replies {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.replies {\n\t\tcolor: #1890ff;\n\t\tcursor: pointer;\n\t}\n\n\t.replies:hover {\n\t\ttext-decoration: underline;\n\t}\n\n\t@media (max-width: 768px) {\n\t\t#div2 {\n\t\t\twidth: 100%;\n\t\t\tleft: 0;\n\t\t\tborder-right: none;\n\t\t}\n\t\t#div3 {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n</style>\n"],"mappings":"AAmDC,eAAe;EACdA,IAAI,EAAE,KAAK;EACXC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,OAAO,EAAE,CAAC,CAAC;MACXC,QAAQ,EAAE,EAAE;MACZC,cAAc,EAAE,KAAK;MACrBC,eAAe,EAAE,KAAK;MACtBC,YAAY,EAAE,IAAI;MAClBC,aAAa,EAAE,IAAI;MACnBC,aAAa,EACZ,kFAAkF;MACnFC,cAAc,EAAE,UAAS,CAAE;IAC5B,CAAC;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACT,IAAI,CAACC,OAAO,CAAC,CAAC;IACd,IAAI,CAACC,WAAW,CAAC,CAAC;IAClB,IAAI,CAACC,YAAY,CAAC,CAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACRH,OAAOA,CAAA,EAAG;MACT;MACAI,GAAG,CAACC,GAAG,CACN,MAAM,EACN;QAAEC,SAAS,EAAE;MAAQ,CAAC,EACtBhB,IAAG,IAAK;QACPiB,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAElB,IAAI,CAAC;MACxC,CAAC,EACDmB,KAAI,IAAK;QACRF,OAAO,CAACE,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACxC,CACD,CAAC;MAEDL,GAAG,CAACC,GAAG,CACN,MAAM,EACN;QAAEK,IAAI,EAAE;MAAO,CAAC,EAChBpB,IAAG,IAAK;QACPiB,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAElB,IAAI,CAAC;MACxC,CAAC,EACDmB,KAAI,IAAK;QACRF,OAAO,CAACE,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACxC,CACD,CAAC;IACF,CAAC;IAEDR,WAAWA,CAAA,EAAG;MACb,IAAI,CAACR,cAAa,GAAI,IAAI;MAC1B,IAAI,CAACE,YAAW,GAAI,IAAI;MACxBS,GAAG,CAACC,GAAG,CACN,aAAa,EACb;QAAEM,UAAU,EAAE,IAAI,CAACb;MAAe,CAAC,EACnCc,QAAO,IAAK;QACX,IAAI,CAACrB,OAAM,GAAIqB,QAAQ;QACvB,IAAI,CAACnB,cAAa,GAAI,KAAK;MAC5B,CAAC,EACDgB,KAAI,IAAK;QACRF,OAAO,CAACE,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;QACjC,IAAI,CAACd,YAAW,GAAI,cAAc;QAClC,IAAI,CAACF,cAAa,GAAI,KAAK;MAC5B,CACD,CAAC;IACF,CAAC;IAEDS,YAAYA,CAAA,EAAG;MACd,IAAI,CAACR,eAAc,GAAI,IAAI;MAC3B,IAAI,CAACE,aAAY,GAAI,IAAI;MACzBQ,GAAG,CAACC,GAAG,CACN,cAAc,EACd;QAAEM,UAAU,EAAE,IAAI,CAACb;MAAe,CAAC,EACnCc,QAAO,IAAK;QACX,IAAI,CAACpB,QAAO,GAAIoB,QAAQ;QACxB,IAAI,CAAClB,eAAc,GAAI,KAAK;MAC7B,CAAC,EACDe,KAAI,IAAK;QACRF,OAAO,CAACE,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/B,IAAI,CAACb,aAAY,GAAI,QAAQ;QAC7B,IAAI,CAACF,eAAc,GAAI,KAAK;MAC7B,CACD,CAAC;IACF,CAAC;IAEDmB,UAAUA,CAACC,SAAS,EAAE;MACrB,IAAI,CAACA,SAAS,EAAE,OAAO,EAAE;MACzB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,SAAQ,GAAI,IAAI,CAAC;MACvC,OACCC,IAAI,CAACE,kBAAkB,CAAC,IACxB,GAAE,GACFF,IAAI,CAACG,kBAAkB,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC;IAEtC;EACD;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}