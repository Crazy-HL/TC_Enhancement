{"ast":null,"code":"export default {\n  __name: 'ArticleContent',\n  setup(__props, _ref) {\n    let {\n      expose: __expose\n    } = _ref;\n    __expose();\n\n    // 新增响应式变量\n    const showInlineComments = ref(true);\n    const likeThreshold = ref(10);\n    const replyThreshold = ref(5);\n\n    // 更新点赞阈值\n    const updateLikeThreshold = e => {\n      likeThreshold.value = parseInt(e.target.value);\n    };\n\n    // 更新回复阈值\n    const updateReplyThreshold = e => {\n      replyThreshold.value = parseInt(e.target.value);\n    };\n\n    // 修改后的判断方法\n    const showTopCommentInline = sentenceIndex => {\n      const topComment = getTopComment(sentenceIndex);\n      return topComment && topComment.like_count >= likeThreshold.value && topComment.sub_comment_count >= replyThreshold.value;\n    };\n\n    // 其他原有代码保持不变...\n\n    const __returned__ = {\n      showInlineComments,\n      likeThreshold,\n      replyThreshold,\n      updateLikeThreshold,\n      updateReplyThreshold,\n      showTopCommentInline\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["showInlineComments","ref","likeThreshold","replyThreshold","updateLikeThreshold","e","value","parseInt","target","updateReplyThreshold","showTopCommentInline","sentenceIndex","topComment","getTopComment","like_count","sub_comment_count"],"sources":["D:/ZhiHu/zhihu-bullet/wikitable-vue/client/src/components/ArticleContent.vue"],"sourcesContent":["<template>\r\n\t<div class=\"article-layout\">\r\n\t\t<!-- 内联评论控制面板 -->\r\n\t\t<div class=\"inline-comment-control\">\r\n\t\t\t<div class=\"control-group\">\r\n\t\t\t\t<label>\r\n\t\t\t\t\t<input type=\"checkbox\" v-model=\"showInlineComments\" /> 显示内联评论\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"control-group\" v-if=\"showInlineComments\">\r\n\t\t\t\t<div class=\"slider-container\">\r\n\t\t\t\t\t<span class=\"slider-label\">最低点赞数: {{ likeThreshold }}</span>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\tv-model=\"likeThreshold\"\r\n\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\tmax=\"1000\"\r\n\t\t\t\t\t\tstep=\"10\"\r\n\t\t\t\t\t\tclass=\"slider\"\r\n\t\t\t\t\t\t@input=\"updateLikeThreshold\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"control-group\" v-if=\"showInlineComments\">\r\n\t\t\t\t<div class=\"slider-container\">\r\n\t\t\t\t\t<span class=\"slider-label\">最低回复数: {{ replyThreshold }}</span>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"range\"\r\n\t\t\t\t\t\tv-model=\"replyThreshold\"\r\n\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\tmax=\"500\"\r\n\t\t\t\t\t\tstep=\"5\"\r\n\t\t\t\t\t\tclass=\"slider\"\r\n\t\t\t\t\t\t@input=\"updateReplyThreshold\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- 其他部分保持不变 -->\r\n\t\t<!-- ... -->\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\n\t// 新增响应式变量\r\n\tconst showInlineComments = ref(true);\r\n\tconst likeThreshold = ref(10);\r\n\tconst replyThreshold = ref(5);\r\n\r\n\t// 更新点赞阈值\r\n\tconst updateLikeThreshold = e => {\r\n\t\tlikeThreshold.value = parseInt(e.target.value);\r\n\t};\r\n\r\n\t// 更新回复阈值\r\n\tconst updateReplyThreshold = e => {\r\n\t\treplyThreshold.value = parseInt(e.target.value);\r\n\t};\r\n\r\n\t// 修改后的判断方法\r\n\tconst showTopCommentInline = sentenceIndex => {\r\n\t\tconst topComment = getTopComment(sentenceIndex);\r\n\t\treturn (\r\n\t\t\ttopComment &&\r\n\t\t\ttopComment.like_count >= likeThreshold.value &&\r\n\t\t\ttopComment.sub_comment_count >= replyThreshold.value\r\n\t\t);\r\n\t};\r\n\r\n\t// 其他原有代码保持不变...\r\n</script>\r\n\r\n<style scoped>\r\n\t/* 新增控制面板样式 */\r\n\t.inline-comment-control {\r\n\t\tposition: fixed;\r\n\t\ttop: 20px;\r\n\t\tright: 20px;\r\n\t\tz-index: 100;\r\n\t\tbackground: white;\r\n\t\tpadding: 12px 15px;\r\n\t\tborder-radius: 8px;\r\n\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);\r\n\t\tfont-size: 14px;\r\n\t\twidth: 220px;\r\n\t}\r\n\r\n\t.control-group {\r\n\t\tmargin-bottom: 12px;\r\n\t}\r\n\r\n\t.control-group:last-child {\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\r\n\t.slider-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 6px;\r\n\t}\r\n\r\n\t.slider-label {\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #555;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 4px;\r\n\t}\r\n\r\n\t.slider {\r\n\t\twidth: 100%;\r\n\t\theight: 6px;\r\n\t\tborder-radius: 3px;\r\n\t\tbackground: #e0e0e0;\r\n\t\toutline: none;\r\n\t\t-webkit-appearance: none;\r\n\t}\r\n\r\n\t.slider::-webkit-slider-thumb {\r\n\t\t-webkit-appearance: none;\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground: #0084ff;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t/* 响应式调整 */\r\n\t@media (max-width: 768px) {\r\n\t\t.inline-comment-control {\r\n\t\t\twidth: 180px;\r\n\t\t\tpadding: 10px 12px;\r\n\t\t\ttop: 10px;\r\n\t\t\tright: 10px;\r\n\t\t}\r\n\r\n\t\t.slider-label {\r\n\t\t\tfont-size: 12px;\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"mappings":";;;;;;;;IA6CC;IACA,MAAMA,kBAAkB,GAAGC,GAAG,CAAC,IAAI,CAAC;IACpC,MAAMC,aAAa,GAAGD,GAAG,CAAC,EAAE,CAAC;IAC7B,MAAME,cAAc,GAAGF,GAAG,CAAC,CAAC,CAAC;;IAE7B;IACA,MAAMG,mBAAmB,GAAGC,CAAC,IAAI;MAChCH,aAAa,CAACI,KAAK,GAAGC,QAAQ,CAACF,CAAC,CAACG,MAAM,CAACF,KAAK,CAAC;IAC/C,CAAC;;IAED;IACA,MAAMG,oBAAoB,GAAGJ,CAAC,IAAI;MACjCF,cAAc,CAACG,KAAK,GAAGC,QAAQ,CAACF,CAAC,CAACG,MAAM,CAACF,KAAK,CAAC;IAChD,CAAC;;IAED;IACA,MAAMI,oBAAoB,GAAGC,aAAa,IAAI;MAC7C,MAAMC,UAAU,GAAGC,aAAa,CAACF,aAAa,CAAC;MAC/C,OACCC,UAAU,IACVA,UAAU,CAACE,UAAU,IAAIZ,aAAa,CAACI,KAAK,IAC5CM,UAAU,CAACG,iBAAiB,IAAIZ,cAAc,CAACG,KAAK;IAEtD,CAAC;;IAED","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}