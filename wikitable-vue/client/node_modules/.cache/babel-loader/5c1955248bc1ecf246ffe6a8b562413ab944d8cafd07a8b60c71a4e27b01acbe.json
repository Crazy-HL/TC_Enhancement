{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-305a2353\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"article-layout\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"left-panel global-comments-panel\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"center-panel article-container\",\n  ref: \"articleContainer\"\n};\nconst _hoisted_4 = {\n  class: \"article-title\"\n};\nconst _hoisted_5 = {\n  class: \"article-meta\"\n};\nconst _hoisted_6 = {\n  class: \"author\"\n};\nconst _hoisted_7 = {\n  class: \"publish-time\"\n};\nconst _hoisted_8 = {\n  class: \"update-time\"\n};\nconst _hoisted_9 = {\n  class: \"article-content\"\n};\nconst _hoisted_10 = [\"id\", \"onMouseenter\"];\nconst _hoisted_11 = {\n  key: 0,\n  class: \"annotation-marker\"\n};\nconst _hoisted_12 = {\n  class: \"article-footer\"\n};\nconst _hoisted_13 = {\n  class: \"stats\"\n};\nconst _hoisted_14 = {\n  class: \"vote-count\"\n};\nconst _hoisted_15 = {\n  class: \"comment-count\"\n};\nconst _hoisted_16 = [\"href\"];\nconst _hoisted_17 = {\n  key: 2,\n  class: \"right-panel annotation-panel\",\n  ref: \"annotationPanel\"\n};\nconst _hoisted_18 = {\n  key: 3,\n  class: \"connection-lines\",\n  ref: \"connectionLines\"\n};\nconst _hoisted_19 = [\"x1\", \"y1\", \"x2\", \"y2\"];\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 左侧：文章整体评论 \"), _ctx.globalComments.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createCommentVNode(\" 左侧面板内容... \")])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 中间：文章内容 \"), _ctx.article ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"h1\", _hoisted_4, _toDisplayString(_ctx.article.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"span\", _hoisted_6, \"作者：\" + _toDisplayString(_ctx.article.user_nickname), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_7, \"发布时间：\" + _toDisplayString(_ctx.formatTime(_ctx.article.created_time)), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_8, \"更新时间：\" + _toDisplayString(_ctx.formatTime(_ctx.article.updated_time)), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.sentences, (sentence, index) => {\n    return _openBlock(), _createElementBlock(\"span\", {\n      key: index,\n      class: _normalizeClass([\"sentence\", {\n        'has-comment': _ctx.hasComments(index),\n        [`comment-level-${_ctx.getCommentLevel(index)}`]: _ctx.hasComments(index),\n        active: _ctx.activeSentence === index\n      }]),\n      id: 'sentence-' + index,\n      onMouseenter: $event => _ctx.highlightComments(index),\n      onMouseleave: _cache[0] || (_cache[0] = function () {\n        return _ctx.unhighlightComments && _ctx.unhighlightComments(...arguments);\n      })\n    }, [_createTextVNode(_toDisplayString(sentence) + \" \", 1 /* TEXT */), _ctx.hasComments(index) ? (_openBlock(), _createElementBlock(\"sup\", _hoisted_11, _toDisplayString(_ctx.getCommentsForSentence(index).length), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 42 /* CLASS, PROPS, NEED_HYDRATION */, _hoisted_10);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"span\", _hoisted_14, \"点赞：\" + _toDisplayString(_ctx.article.voteup_count), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_15, \"评论：\" + _toDisplayString(_ctx.article.comment_count), 1 /* TEXT */)]), _createElementVNode(\"a\", {\n    href: _ctx.article.content_url,\n    target: \"_blank\",\n    class: \"original-link\"\n  }, \"阅读原文\", 8 /* PROPS */, _hoisted_16)])], 512 /* NEED_PATCH */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 右侧：批注面板 \"), _ctx.activeSentence !== null && _ctx.hasComments(_ctx.activeSentence) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_createCommentVNode(\" 右侧面板内容... \")], 512 /* NEED_PATCH */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 连接线 \"), _ctx.activeSentence !== null && _ctx.hasComments(_ctx.activeSentence) ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_18, [_createElementVNode(\"line\", {\n    x1: _ctx.lineStart.x,\n    y1: _ctx.lineStart.y,\n    x2: _ctx.lineEnd.x,\n    y2: _ctx.lineEnd.y,\n    stroke: \"#FF9800\",\n    \"stroke-width\": \"1\",\n    \"stroke-dasharray\": \"3,2\"\n  }, null, 8 /* PROPS */, _hoisted_19)], 512 /* NEED_PATCH */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","ref","_createElementBlock","_hoisted_1","_createCommentVNode","_ctx","globalComments","length","_hoisted_2","article","_hoisted_3","_createElementVNode","_hoisted_4","_toDisplayString","title","_hoisted_5","_hoisted_6","user_nickname","_hoisted_7","formatTime","created_time","_hoisted_8","updated_time","_hoisted_9","_Fragment","_renderList","sentences","sentence","index","_normalizeClass","hasComments","getCommentLevel","activeSentence","id","onMouseenter","$event","highlightComments","onMouseleave","_cache","unhighlightComments","arguments","_createTextVNode","_hoisted_11","getCommentsForSentence","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_14","voteup_count","_hoisted_15","comment_count","href","content_url","target","_hoisted_16","_hoisted_17","_hoisted_18","x1","lineStart","x","y1","y","x2","lineEnd","y2","stroke","_hoisted_19"],"sources":["D:\\ZhiHu\\zhihu-bullet\\wikitable-vue\\client\\src\\components\\ArticleContent.vue"],"sourcesContent":["<template>\r\n\t<div class=\"article-layout\">\r\n\t\t<!-- 左侧：文章整体评论 -->\r\n\t\t<div\r\n\t\t\tclass=\"left-panel global-comments-panel\"\r\n\t\t\tv-if=\"globalComments.length > 0\">\r\n\t\t\t<!-- 左侧面板内容... -->\r\n\t\t</div>\r\n\r\n\t\t<!-- 中间：文章内容 -->\r\n\t\t<div\r\n\t\t\tclass=\"center-panel article-container\"\r\n\t\t\tv-if=\"article\"\r\n\t\t\tref=\"articleContainer\">\r\n\t\t\t<h1 class=\"article-title\">{{ article.title }}</h1>\r\n\t\t\t<div class=\"article-meta\">\r\n\t\t\t\t<span class=\"author\">作者：{{ article.user_nickname }}</span>\r\n\t\t\t\t<span class=\"publish-time\"\r\n\t\t\t\t\t>发布时间：{{ formatTime(article.created_time) }}</span\r\n\t\t\t\t>\r\n\t\t\t\t<span class=\"update-time\"\r\n\t\t\t\t\t>更新时间：{{ formatTime(article.updated_time) }}</span\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"article-content\">\r\n\t\t\t\t<span\r\n\t\t\t\t\tv-for=\"(sentence, index) in sentences\"\r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\tclass=\"sentence\"\r\n\t\t\t\t\t:id=\"'sentence-' + index\"\r\n\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t'has-comment': hasComments(index),\r\n\t\t\t\t\t\t[`comment-level-${getCommentLevel(index)}`]: hasComments(index),\r\n\t\t\t\t\t\tactive: activeSentence === index\r\n\t\t\t\t\t}\"\r\n\t\t\t\t\t@mouseenter=\"highlightComments(index)\"\r\n\t\t\t\t\t@mouseleave=\"unhighlightComments\">\r\n\t\t\t\t\t{{ sentence }}\r\n\t\t\t\t\t<sup v-if=\"hasComments(index)\" class=\"annotation-marker\">\r\n\t\t\t\t\t\t{{ getCommentsForSentence(index).length }}\r\n\t\t\t\t\t</sup>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"article-footer\">\r\n\t\t\t\t<div class=\"stats\">\r\n\t\t\t\t\t<span class=\"vote-count\">点赞：{{ article.voteup_count }}</span>\r\n\t\t\t\t\t<span class=\"comment-count\">评论：{{ article.comment_count }}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a :href=\"article.content_url\" target=\"_blank\" class=\"original-link\"\r\n\t\t\t\t\t>阅读原文</a\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<!-- 右侧：批注面板 -->\r\n\t\t<div\r\n\t\t\tclass=\"right-panel annotation-panel\"\r\n\t\t\tv-if=\"activeSentence !== null && hasComments(activeSentence)\"\r\n\t\t\tref=\"annotationPanel\">\r\n\t\t\t<!-- 右侧面板内容... -->\r\n\t\t</div>\r\n\r\n\t\t<!-- 连接线 -->\r\n\t\t<svg\r\n\t\t\tclass=\"connection-lines\"\r\n\t\t\tv-if=\"activeSentence !== null && hasComments(activeSentence)\"\r\n\t\t\tref=\"connectionLines\">\r\n\t\t\t<line\r\n\t\t\t\t:x1=\"lineStart.x\"\r\n\t\t\t\t:y1=\"lineStart.y\"\r\n\t\t\t\t:x2=\"lineEnd.x\"\r\n\t\t\t\t:y2=\"lineEnd.y\"\r\n\t\t\t\tstroke=\"#FF9800\"\r\n\t\t\t\tstroke-width=\"1\"\r\n\t\t\t\tstroke-dasharray=\"3,2\" />\r\n\t\t</svg>\r\n\t</div>\r\n</template>\r\n\r\n<style scoped>\r\n\t.article-layout {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 280px minmax(0, 1fr) 280px; /* 关键修改 */\r\n\t\tgap: 20px;\r\n\t\tmax-width: 1200px;\r\n\t\tmargin: 0 auto;\r\n\t\tpadding: 20px;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.left-panel {\r\n\t\tposition: sticky;\r\n\t\ttop: 20px;\r\n\t\theight: fit-content;\r\n\t\tmax-height: calc(100vh - 40px);\r\n\t\toverflow-y: auto;\r\n\t\tbackground: white;\r\n\t\tborder-radius: 8px;\r\n\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n\t\tpadding: 15px;\r\n\t}\r\n\r\n\t.center-panel {\r\n\t\tgrid-column: 2;\r\n\t\tbackground: white;\r\n\t\tborder-radius: 8px;\r\n\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n\t\tpadding: 20px;\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.right-panel {\r\n\t\tposition: sticky;\r\n\t\ttop: 20px;\r\n\t\theight: fit-content;\r\n\t\tmax-height: calc(100vh - 40px);\r\n\t\toverflow-y: auto;\r\n\t\tbackground: white;\r\n\t\tborder-radius: 8px;\r\n\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n\t\tpadding: 15px;\r\n\t}\r\n\r\n\t/* 其他样式保持不变... */\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}